<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/json2/20140204/json2.min.js"></script>
    <script src="../error_logging.cache.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
    <title>Error Cache Logging</title>
</head>
<body>
    <div id="test">errors are free</div>
    <script src="./error.js"></script>
    <script>
        $(window).on('load', function() {
            setTimeout(function(){
                var result = false;
                if ($('#test').text() === 'ERROR IS CATCHED') {
                    result = true;
                }
                window.global_test_results = {
                    "passed": result ? 1 : 0,
                    "failed": result ? 0 : 1,
                    "total": 1,
                    "duration": 1000,
                    "tests": [
                        {
                            "name": "catched",
                            "result": result,
                            "message": "catching",
                            "duration": 1000
                        }
                    ]
                };
            }, 10000);
        });
    </script>
</body>
</html>